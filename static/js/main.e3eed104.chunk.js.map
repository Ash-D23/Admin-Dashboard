{"version":3,"sources":["redux/userRedux.js","components/topbar/topbar.js","pages/home.js","requestMethods.js","redux/productRedux.js","redux/apiCalls.js","components/loader/loader.js","components/login/login.js","components/newuser/newuser.js","components/productlist/productlist.js","components/product/product.js","firebase.js","components/newproduct/newproduct.js","App.js","redux/store.js","index.js"],"names":["userSlice","createSlice","name","initialState","currentUser","isFetching","error","reducers","loginStart","state","loginSuccess","action","payload","loginFailure","logout","actions","useStyles","makeStyles","theme","menuButton","marginRight","spacing","title","flexGrow","Topbar","dispatch","useDispatch","classes","AppBar","position","Toolbar","Typography","variant","className","to","Button","color","onClick","localStorage","removeItem","home","BASE_URL","TOKEN","JSON","parse","getItem","user","userdetails","accessToken","publicRequest","axios","create","baseURL","productSlice","headers","token","products","loading","getProductStart","getProductSuccess","getProductFailure","deleteProductStart","deleteProductSuccess","splice","findIndex","item","_id","deleteProductFailure","updateProductStart","updateProductSuccess","id","product","updateProductFailure","addProductStart","addProductSuccess","push","addProductFailure","login","a","post","res","console","log","setItem","data","getProducts","get","deleteProduct","delete","addProduct","Loader","class","Login","useState","username","setUsername","password","setPassword","useSelector","style","height","display","flexDirection","alignItems","justifyContent","padding","marginBottom","type","placeholder","onChange","e","target","value","preventDefault","width","newuser","ProductList","useEffect","map","src","img","desc","price","DeleteOutline","app","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","NewProduct","inputs","setInputs","file","setFile","cat","setCat","successmessage","setsuccessmessage","errormessage","seterrormessgae","handleChange","prev","files","split","fileName","Date","getTime","storage","getStorage","storageRef","ref","uploadTask","uploadBytesResumable","on","snapshot","progress","bytesTransferred","totalBytes","getDownloadURL","then","downloadURL","categories","App","admin","isAdmin","path","exact","persistConfig","key","version","rootReducer","combineReducers","userReducer","productReducer","persistedReducer","persistReducer","store","configureStore","reducer","middleware","getDefaultMiddleware","serializableCheck","ignoredActions","FLUSH","REHYDRATE","PAUSE","PERSIST","PURGE","REGISTER","persistor","persistStore","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.e3eed104.chunk.js","sourcesContent":["import { createSlice } from \"@reduxjs/toolkit\";\r\n\r\nconst userSlice = createSlice({\r\n  name: \"user\",\r\n  initialState: {\r\n    currentUser: null,\r\n    isFetching: false,\r\n    error: false,\r\n  },\r\n  reducers: {\r\n    loginStart: (state) => {\r\n      state.isFetching = true;\r\n    },\r\n    loginSuccess: (state, action) => {\r\n      state.isFetching = false;\r\n      state.currentUser = action.payload;\r\n    },\r\n    loginFailure: (state) => {\r\n      state.isFetching = false;\r\n      state.error = true;\r\n    },\r\n    logout: (state) => {\r\n      state.currentUser = null;\r\n    },\r\n  },\r\n});\r\n\r\nexport const { loginStart, loginSuccess, loginFailure,logout } = userSlice.actions;\r\nexport default userSlice.reducer;","import React from 'react'\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Button from '@material-ui/core/Button';\r\nimport { Link } from \"react-router-dom\";\r\nimport './topbar.css'\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { logout } from \"../../redux/userRedux\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    menuButton: {\r\n      marginRight: theme.spacing(2),\r\n    },\r\n    title: {\r\n      flexGrow: 1,\r\n    },\r\n  }));\r\n\r\n\r\nfunction Topbar() {\r\n  const dispatch = useDispatch();\r\n\r\n  const handlelogout = () => {\r\n    localStorage.removeItem('persist:root');\r\n    localStorage.removeItem('token');\r\n    dispatch(logout())\r\n  }\r\n\r\n    const classes = useStyles();\r\n    return (\r\n        <AppBar position=\"static\">\r\n        <Toolbar>\r\n            <Typography variant=\"h6\" className={classes.title}><Link className=\"Link\" to=\"/\">ADMIN PANEL</Link></Typography>\r\n            <Link className=\"Link\" to=\"/products\"><Button color=\"inherit\">Products</Button></Link>\r\n            <Button color=\"inherit\" onClick={handlelogout}> Logout </Button>\r\n        </Toolbar>\r\n        </AppBar>\r\n    );\r\n}\r\n\r\nexport default Topbar;\r\n","import React from 'react';\r\nimport Topbar from '../components/topbar/topbar';\r\nimport { Link } from \"react-router-dom\";\r\nimport './home.css';\r\nimport Button from '@material-ui/core/Button';\r\n\r\nfunction home() {\r\n    return (\r\n        <div>\r\n            <Topbar /> \r\n            <div className=\"container\">\r\n                <h2>Admin Dashboard</h2>\r\n                <div className=\"btn-container\">\r\n                    <Link className=\"Link\" to=\"/newproduct\"><Button color=\"primary\" variant=\"contained\"> Create New Product </Button></Link>\r\n                    \r\n                </div>\r\n\r\n\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default home\r\n","import axios from \"axios\";\r\n\r\nconst BASE_URL = \"https://ecommerce-api-bookstore.herokuapp.com/api/\";\r\nlet TOKEN = \"\";\r\n\r\nif (JSON.parse(localStorage.getItem(\"persist:root\"))?.user){\r\n  let userdetails = JSON.parse(JSON.parse(localStorage.getItem(\"persist:root\")).user)\r\n\r\n  if (userdetails?.currentUser?.accessToken){\r\n    TOKEN = userdetails.currentUser.accessToken\r\n  }\r\n}\r\n\r\nexport const publicRequest = axios.create({\r\n  baseURL: BASE_URL,\r\n});\r\n\r\nexport const userRequest = axios.create({\r\n  baseURL: BASE_URL,\r\n  headers: { token: `Bearer ${TOKEN}` },\r\n});","import { createSlice } from \"@reduxjs/toolkit\";\r\n\r\nexport const productSlice = createSlice({\r\n  name: \"product\",\r\n  initialState: {\r\n    products: [],\r\n    isFetching: false,\r\n    error: false,\r\n    loading: false\r\n  },\r\n  reducers: {\r\n    //GET ALL\r\n    getProductStart: (state) => {\r\n      state.isFetching = true;\r\n      state.error = false;\r\n    },\r\n    getProductSuccess: (state, action) => {\r\n      state.isFetching = false;\r\n      state.products = action.payload;\r\n    },\r\n    getProductFailure: (state) => {\r\n      state.isFetching = false;\r\n      state.error = true;\r\n    },\r\n    //DELETE\r\n    deleteProductStart: (state) => {\r\n      state.isFetching = true;\r\n      state.error = false;\r\n    },\r\n    deleteProductSuccess: (state, action) => {\r\n      state.isFetching = false;\r\n      state.products.splice(\r\n        state.products.findIndex((item) => item._id === action.payload),\r\n        1\r\n      );\r\n    },\r\n    deleteProductFailure: (state) => {\r\n      state.isFetching = false;\r\n      state.error = true;\r\n    },\r\n    //UPDATE\r\n    updateProductStart: (state) => {\r\n      state.isFetching = true;\r\n      state.error = false;\r\n    },\r\n    updateProductSuccess: (state, action) => {\r\n      state.isFetching = false;\r\n      state.products[\r\n        state.products.findIndex((item) => item._id === action.payload.id)\r\n      ] = action.payload.product;\r\n    },\r\n    updateProductFailure: (state) => {\r\n      state.isFetching = false;\r\n      state.error = true;\r\n    },\r\n    //UPDATE\r\n    addProductStart: (state) => {\r\n      state.isFetching = true;\r\n      state.error = false;\r\n    },\r\n    addProductSuccess: (state, action) => {\r\n      state.isFetching = false;\r\n      state.products.push(action.payload);\r\n    },\r\n    addProductFailure: (state) => {\r\n      state.isFetching = false;\r\n      state.error = true;\r\n    },\r\n    loading: (state, action) =>{\r\n      state.loading =  action.payload;\r\n    }\r\n\r\n  },\r\n});\r\n\r\nexport const {\r\n  getProductStart,\r\n  getProductSuccess,\r\n  getProductFailure,\r\n  deleteProductStart,\r\n  deleteProductSuccess,\r\n  deleteProductFailure,\r\n  updateProductStart,\r\n  updateProductSuccess,\r\n  updateProductFailure,\r\n  addProductStart,\r\n  addProductSuccess,\r\n  addProductFailure,\r\n  loading\r\n} = productSlice.actions;\r\n\r\nexport default productSlice.reducer;","import { loginFailure, loginStart, loginSuccess } from \"./userRedux\";\r\nimport { publicRequest, userRequest } from \"../requestMethods\";\r\nimport {\r\n  getProductFailure,\r\n  getProductStart,\r\n  getProductSuccess,\r\n  deleteProductFailure,\r\n  deleteProductStart,\r\n  deleteProductSuccess,\r\n  updateProductFailure,\r\n  updateProductStart,\r\n  updateProductSuccess,\r\n  addProductFailure,\r\n  addProductStart,\r\n  addProductSuccess,\r\n} from \"./productRedux\";\r\nimport axios from 'axios';\r\n\r\n\r\nexport const login = async (dispatch, user) => {\r\n  dispatch(loginStart());\r\n  try {\r\n    const res = await publicRequest.post(\"/auth/login\", user);\r\n    console.log(res)\r\n    localStorage.setItem(\"token\", res?.data?.accessToken);\r\n\r\n    dispatch(loginSuccess(res.data));\r\n  } catch (err) {\r\n    console.log(err)\r\n    dispatch(loginFailure());\r\n  }\r\n};\r\n\r\nexport const getProducts = async (dispatch) => {\r\n  dispatch(getProductStart());\r\n  try {\r\n    const res = await publicRequest.get(\"/products\");\r\n    dispatch(getProductSuccess(res.data));\r\n  } catch (err) {\r\n    dispatch(getProductFailure());\r\n  }\r\n};\r\n\r\nexport const deleteProduct = async (id, dispatch) => {\r\n  dispatch(deleteProductStart());\r\n  try {\r\n    let TOKEN = localStorage.getItem('token')\r\n    const res = await axios\r\n        .delete(`https://ecommerce-api-bookstore.herokuapp.com/api/products/${id}`, {\r\n            headers: { 'Content-type': 'application/json; charset=UTF-8',\r\n            token: `Bearer ${TOKEN}` }\r\n        });\r\n    dispatch(deleteProductSuccess(id));\r\n  } catch (err) {\r\n    dispatch(deleteProductFailure());\r\n  }\r\n};\r\n\r\nexport const updateProduct = async (id, product, dispatch) => {\r\n  dispatch(updateProductStart());\r\n  try {\r\n    // update\r\n    dispatch(updateProductSuccess({ id, product }));\r\n  } catch (err) {\r\n    dispatch(updateProductFailure());\r\n  }\r\n};\r\nexport const addProduct = async (product, dispatch) => {\r\n  dispatch(addProductStart());\r\n  try {\r\n\r\n    let TOKEN = localStorage.getItem('token')\r\n\r\n    const res = await axios\r\n        .post('https://ecommerce-api-bookstore.herokuapp.com/api/products/', product, {\r\n            headers: { 'Content-type': 'application/json; charset=UTF-8',\r\n            token: `Bearer ${TOKEN}` }\r\n        });\r\n    dispatch(addProductSuccess(res.data));\r\n  } catch (err) {\r\n    console.log(err)\r\n    dispatch(addProductFailure());\r\n  }\r\n};","import React from 'react';\r\nimport './loader.css'\r\n\r\nfunction Loader() {\r\n  return (\r\n    <div className=\"loader center-loader\">\r\n      <div class=\"sp sp-circle\"></div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Loader;","import { useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { login } from \"../../redux/apiCalls\";\r\nimport Loader from \"../loader/loader\";\r\n\r\nconst Login = () => {\r\n  const [username, setUsername] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const dispatch = useDispatch();\r\n  const isloading = useSelector((state) => state.user.isFetching);\r\n\r\n  const handleClick = (e) => {\r\n    e.preventDefault();\r\n    login(dispatch, { username, password });\r\n  };\r\n\r\n  return isloading ? (<Loader />) : (\r\n    <div\r\n      style={{\r\n        height: \"100vh\",\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        alignItems: \"center\",\r\n        justifyContent: \"center\",\r\n      }}\r\n    >\r\n      <input\r\n        style={{ padding: 10, marginBottom: 20 }}\r\n        type=\"text\"\r\n        placeholder=\"username\"\r\n        onChange={(e) => setUsername(e.target.value)}\r\n      />\r\n      <input\r\n        style={{ padding: 10, marginBottom: 20 }}\r\n        type=\"password\"\r\n        placeholder=\"password\"\r\n        onChange={(e) => setPassword(e.target.value)}\r\n      />\r\n      <button onClick={handleClick} style={{ padding: 10, width:100 }}>\r\n        Login\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Login;","import React from 'react'\r\n\r\nfunction newuser() {\r\n    return (\r\n        <div>\r\n            new  user\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default newuser\r\n","import \"./productList.css\";\r\nimport { DeleteOutline } from \"@material-ui/icons\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { deleteProduct, getProducts } from \"../../redux/apiCalls\";\r\nimport Topbar from '../topbar/topbar';\r\nimport Button from '@material-ui/core/Button';\r\n\r\nexport default function ProductList() {\r\n  const dispatch = useDispatch();\r\n  const products = useSelector((state) => state.product.products);\r\n  console.log(products)\r\n\r\n  useEffect(() => {\r\n    getProducts(dispatch);\r\n  }, [dispatch]);\r\n\r\n  const handleDelete = (id) => {\r\n    deleteProduct(id, dispatch);\r\n  };\r\n\r\n  return (\r\n    <>\r\n    <Topbar />\r\n    <div className=\"productList\">\r\n      {products?.map( item => (\r\n          <div className=\"product-row\">\r\n            <img className=\"productListImg\" src={item.img} />\r\n            <div className=\"product-desc\">\r\n                <p> Product Name: {item.title}</p>\r\n                <p>{item.desc}</p>\r\n            </div>\r\n            <p>Price:{item.price}</p>\r\n            \r\n            <DeleteOutline\r\n              className=\"productListDelete\"\r\n              onClick={() => handleDelete(item._id)}\r\n            />\r\n          </div>\r\n      ))}\r\n    </div>\r\n    </>\r\n  );\r\n}\r\n","import React from 'react'\r\n\r\nfunction product() {\r\n    return (\r\n        <div>\r\n            product\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default product\r\n","import { initializeApp } from \"firebase/app\";\r\n// TODO: Add SDKs for Firebase products that you want to use\r\n// https://firebase.google.com/docs/web/setup#available-libraries\r\n\r\n// Your web app's Firebase configuration\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyA3f3A37vyPHWcGmW4zwIoHa_72rOcSOE4\",\r\n  authDomain: \"ecommerce-store-91ad1.firebaseapp.com\",\r\n  projectId: \"ecommerce-store-91ad1\",\r\n  storageBucket: \"ecommerce-store-91ad1.appspot.com\",\r\n  messagingSenderId: \"935819177020\",\r\n  appId: \"1:935819177020:web:a66d712bcd7a022362e739\"\r\n};\r\n\r\n// Initialize Firebase\r\nconst app = initializeApp(firebaseConfig);\r\n\r\nexport default app;","import { useState } from \"react\";\r\nimport \"./newproduct.css\";\r\nimport {\r\n  getStorage,\r\n  ref,\r\n  uploadBytesResumable,\r\n  getDownloadURL,\r\n} from \"firebase/storage\";\r\nimport app from \"../../firebase\";\r\nimport { addProduct } from \"../../redux/apiCalls\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport Topbar from \"../topbar/topbar\";\r\nimport { loading } from \"../../redux/productRedux\";\r\nimport Loader from '../loader/loader'\r\n\r\nexport default function NewProduct() {\r\n    \r\n  const [inputs, setInputs] = useState({});\r\n  const [file, setFile] = useState(null);\r\n  const [cat, setCat] = useState([]);\r\n  const dispatch = useDispatch();\r\n  const [successmessage, setsuccessmessage] = useState(null);\r\n  const [errormessage, seterrormessgae] = useState(null);\r\n\r\n  const isloading = useSelector((state) => state.product.loading);\r\n\r\n  const handleChange = (e) => {\r\n    setInputs((prev) => {\r\n      return { ...prev, [e.target.name]: e.target.value };\r\n    });\r\n  };\r\n  const handleCat = (e) => {\r\n    setCat(e.target.value.split(\",\"));\r\n  };\r\n\r\n  const handleClick = (e) => {\r\n    e.preventDefault();\r\n    const fileName = new Date().getTime() + file.name;\r\n    const storage = getStorage(app);\r\n    const storageRef = ref(storage, fileName);\r\n    const uploadTask = uploadBytesResumable(storageRef, file);\r\n\r\n    // Register three observers:\r\n    // 1. 'state_changed' observer, called any time the state changes\r\n    // 2. Error observer, called on failure\r\n    // 3. Completion observer, called on successful completion\r\n    dispatch(loading(true))\r\n    uploadTask.on(\r\n      \"state_changed\",\r\n      (snapshot) => {\r\n        // Observe state change events such as progress, pause, and resume\r\n        // Get task progress, including the number of bytes uploaded and the total number of bytes to be uploaded\r\n        const progress =\r\n          (snapshot.bytesTransferred / snapshot.totalBytes) * 100;\r\n        console.log(\"Upload is \" + progress + \"% done\");\r\n        switch (snapshot.state) {\r\n          case \"paused\":\r\n            console.log(\"Upload is paused\");\r\n            break;\r\n          case \"running\":\r\n            console.log(\"Upload is running\");\r\n            break;\r\n          default:\r\n        }\r\n      },\r\n      (error) => {\r\n        // Handle unsuccessful uploads\r\n        dispatch(loading(false))\r\n        setInputs({})\r\n        setFile(null)\r\n        setCat([])\r\n        seterrormessgae(true)\r\n        setsuccessmessage(false)\r\n      },\r\n      () => {\r\n        // Handle successful uploads on complete\r\n        // For instance, get the download URL: https://firebasestorage.googleapis.com/...\r\n        getDownloadURL(uploadTask.snapshot.ref).then((downloadURL) => {\r\n          const product = { ...inputs, img: downloadURL, categories: cat };\r\n          addProduct(product, dispatch);\r\n          dispatch(loading(false))\r\n          setInputs({})\r\n          setFile(null)\r\n          setCat([])\r\n          setsuccessmessage(true)\r\n          seterrormessgae(false)\r\n        });\r\n        \r\n        \r\n      }\r\n    );\r\n    \r\n  };\r\n\r\n  return isloading ? (<Loader />) : (\r\n    <>\r\n    <Topbar/>\r\n    <div >\r\n    <div className=\"newProduct center\">\r\n      { errormessage && <div className=\"errormessage\">There was an error!</div>}\r\n      { successmessage && <div className=\"successmessage\">Product added Succesfully!</div>}\r\n      <h1 className=\"addProductTitle\">New Product</h1>\r\n      <form className=\"addProductForm\">\r\n        <div className=\"addProductItem\">\r\n          <label>Image</label>\r\n          <input\r\n            type=\"file\"\r\n            id=\"file\"\r\n            onChange={(e) => setFile(e.target.files[0])}\r\n          />\r\n        </div>\r\n        <div className=\"addProductItem\">\r\n          <label>Title</label>\r\n          <input\r\n            name=\"title\"\r\n            type=\"text\"\r\n            placeholder=\"Product Name\"\r\n            onChange={handleChange}\r\n          />\r\n        </div>\r\n        <div className=\"addProductItem\">\r\n          <label>Description</label>\r\n          <input\r\n            name=\"desc\"\r\n            type=\"text\"\r\n            placeholder=\"description...\"\r\n            onChange={handleChange}\r\n          />\r\n        </div>\r\n        <div className=\"addProductItem\">\r\n          <label>Price</label>\r\n          <input\r\n            name=\"price\"\r\n            type=\"number\"\r\n            placeholder=\"Price\"\r\n            onChange={handleChange}\r\n          />\r\n        </div>\r\n        <div className=\"addProductItem\">\r\n          <label>Categories</label>\r\n          <input type=\"text\" placeholder=\"\" onChange={handleCat} />\r\n        </div>\r\n        <div className=\"addProductItem\">\r\n          <label>Stock</label>\r\n          <select name=\"inStock\" onChange={handleChange}>\r\n            <option value=\"true\">Yes</option>\r\n            <option value=\"false\">No</option>\r\n          </select>\r\n        </div>\r\n        <button onClick={handleClick} className=\"addProductButton\">\r\n          Create\r\n        </button>\r\n      </form>\r\n    </div>\r\n    </div>\r\n    </>\r\n  );\r\n}","import {\n  HashRouter as Router,\n  Switch,\n  Route,\n  Redirect,\n} from \"react-router-dom\";\nimport { useSelector } from \"react-redux\";\nimport Home from './pages/home';\nimport Login from './components/login/login';\nimport Orders from './components/orders/orders';\nimport UserList from './components/userlist/userlist';\nimport User from './components/user/user';\nimport NewUser from './components/newuser/newuser';\nimport ProductList from './components/productlist/productlist';\nimport Product from './components/product/product';\nimport NewProduct from './components/newproduct/newproduct';\n\nfunction App() {\n  const admin = useSelector((state) => state.user.currentUser?.isAdmin);\n  \n  return (\n    <Router>\n      <Switch>\n        <Route path=\"/login\">\n          {!admin ? <Login /> : <Redirect to=\"/\" /> }\n        </Route>\n        <Route exact path=\"/\">\n          {!admin ? <Redirect to=\"/login\" /> : <Home />}\n        </Route>\n        \n        {admin && (\n          <>\n              <Route path=\"/products\">\n                <ProductList />\n              </Route>\n              <Route path=\"/product/:productId\">\n                <Product />\n              </Route>\n              <Route path=\"/newproduct\">\n                <NewProduct />\n              </Route>\n              \n          </>\n        )}\n      </Switch>\n    </Router>\n  );\n}\n\nexport default App;","import { configureStore, combineReducers } from \"@reduxjs/toolkit\";\r\nimport userReducer from \"./userRedux\";\r\nimport productReducer from \"./productRedux\";\r\nimport {\r\n  persistStore,\r\n  persistReducer,\r\n  FLUSH,\r\n  REHYDRATE,\r\n  PAUSE,\r\n  PERSIST,\r\n  PURGE,\r\n  REGISTER,\r\n} from \"redux-persist\";\r\nimport storage from \"redux-persist/lib/storage\";\r\n\r\nconst persistConfig = {\r\n  key: \"root\",\r\n  version: 1,\r\n  storage,\r\n};\r\n\r\nconst rootReducer = combineReducers({\r\n  user: userReducer,\r\n  product: productReducer,\r\n});\r\n\r\nconst persistedReducer = persistReducer(persistConfig, rootReducer);\r\n\r\nexport const store = configureStore({\r\n  reducer: persistedReducer,\r\n  middleware: (getDefaultMiddleware) =>\r\n    getDefaultMiddleware({\r\n      serializableCheck: {\r\n        ignoredActions: [FLUSH, REHYDRATE, PAUSE, PERSIST, PURGE, REGISTER],\r\n      },\r\n    }),\r\n});\r\n\r\nexport let persistor = persistStore(store);","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport { Provider } from \"react-redux\";\nimport { store, persistor } from \"./redux/store\";\nimport { PersistGate } from \"redux-persist/integration/react\";\nimport './index.css'\n\nReactDOM.render(\n  <Provider store={store}>\n    <PersistGate loading=\"null\" persistor={persistor}>\n      <App />\n    </PersistGate>\n  </Provider>,\n  document.getElementById(\"root\")\n);\n\n"],"sourceRoot":""}